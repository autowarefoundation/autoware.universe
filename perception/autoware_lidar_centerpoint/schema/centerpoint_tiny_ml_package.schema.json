{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Parameters for Centerpoint Tiny ML model",
  "type": "object",
  "definitions": {
    "centerpoint_tiny_ml_package": {
      "type": "object",
      "properties": {
        "model_params": {
          "type": "object",
          "description": "Parameters for model configuration.",
          "properties": {
            "class_names": {
              "type": "array",
              "description": "A list of class names that will be predicted.",
              "default": ["CAR", "TRUCK", "BUS", "BICYCLE", "PEDESTRIAN"],
              "uniqueItems": true
            },
            "point_feature_size": {
              "type": "integer",
              "description": "The number of channels in the point feature layer.",
              "default": 4
            },
            "max_voxel_size": {
              "type": "integer",
              "description": "The maximum size of the voxel grid.",
              "default": 40000
            },
            "point_cloud_range": {
              "type": "array",
              "description": "The detection range in the format [min_x, min_y, min_z, max_x, max_y, max_z] in meters.",
              "default": [-76.8, -76.8, -4.0, 76.8, 76.8, 6.0]
            },
            "voxel_size": {
              "type": "array",
              "description": "The size of each voxel in the format [x, y, z] in meters.",
              "default": [0.32, 0.32, 10.0]
            },
            "downsample_factor": {
              "type": "integer",
              "description": "The scale factor for downsampling points.",
              "default": 2,
              "minimum": 1
            },
            "encoder_in_feature_size": {
              "type": "integer",
              "description": "The number of input feature channels for the encoder.",
              "default": 9
            },
            "has_variance": {
              "type": "boolean",
              "description": "Indicates whether the model outputs pose variance along with pose for each bounding box.",
              "default": false
            },
            "has_twist": {
              "type": "boolean",
              "description": "Indicates whether the model outputs velocity (twist) along with pose for each bounding box.",
              "default": false
            }
          },
          "required": [
            "class_names",
            "point_feature_size",
            "max_voxel_size",
            "point_cloud_range",
            "voxel_size",
            "downsample_factor",
            "encoder_in_feature_size",
            "has_variance",
            "has_twist"
          ]
        }
      },
      "required": ["model_params"]
    }
  },
  "properties": {
    "/**": {
      "type": "object",
      "properties": {
        "ros__parameters": {
          "$ref": "#/definitions/centerpoint_tiny_ml_package"
        }
      },
      "required": ["ros__parameters"]
    }
  },
  "required": ["/**"]
}
