<launch>
  <arg name="config_file" default="$(find-pkg-share autoware_error_monitor)/config/autoware_error_monitor.param.yaml" />

  <group ns="/">
    <node pkg="diagnostic_aggregator" exec="aggregator_node" name="aggregator_node" output="screen">
      <param name="pub_rate" value="10.0"/>
      <param from="$(find-pkg-share autoware_error_monitor)/config/diagnostic_aggregator/_discard.yaml" />
      <param from="$(find-pkg-share autoware_error_monitor)/config/diagnostic_aggregator/control.yaml" />
      <param from="$(find-pkg-share autoware_error_monitor)/config/diagnostic_aggregator/emergency_system.yaml" />
      <param from="$(find-pkg-share autoware_error_monitor)/config/diagnostic_aggregator/localization.yaml" />
      <param from="$(find-pkg-share autoware_error_monitor)/config/diagnostic_aggregator/map.yaml" />
      <param from="$(find-pkg-share autoware_error_monitor)/config/diagnostic_aggregator/perception.yaml" />
      <param from="$(find-pkg-share autoware_error_monitor)/config/diagnostic_aggregator/planning.yaml" />
      <param from="$(find-pkg-share autoware_error_monitor)/config/diagnostic_aggregator/remote_control.yaml" />
      <param from="$(find-pkg-share autoware_error_monitor)/config/diagnostic_aggregator/safety.yaml" />
      <param from="$(find-pkg-share autoware_error_monitor)/config/diagnostic_aggregator/sensing.yaml" />
      <param from="$(find-pkg-share autoware_error_monitor)/config/diagnostic_aggregator/vehicle.yaml" />
    </node>
  </group>

  <include file="$(find-pkg-share autoware_error_monitor)/launch/autoware_error_monitor_node.launch.xml">
    <arg name="config_file" value="$(var config_file)"/>
  </include>
</launch>
